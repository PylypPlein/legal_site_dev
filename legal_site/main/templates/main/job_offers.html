{% extends 'main/base.html' %}
{% load static i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% block content %}


{% for job in jobs %}
<section class="py-4 position-relative">
    <div class="container">
        <div class="about-text p-4 rounded shadow-lg">
        <div class="row g-4">
            <!-- Ліва колонка — опис вакансії -->
            <div class="col-lg-8">
                <div class="p-3 rounded shadow-sm bg-dark border">
                    {% if LANGUAGE_CODE == 'pl' %}
                        <h3 class="fw-bold mb-3 text-light">
                            <i class="bi bi-briefcase-fill me-2"></i>{{ job.title_pl }}
                        </h3>
                        <p class="mb-2">{{ job.description_pl|truncatewords:40|linebreaks }}</p>
                        {% if job.requirements_pl %}
                            <h6 class="fw-semibold mt-3"><i class="bi bi-list-check me-2"></i>Wymagania:</h6>
                            <p class="mb-2">{{ job.requirements_pl|truncatewords:30|linebreaks }}</p>
                        {% endif %}
                    {% elif LANGUAGE_CODE == 'en' %}
                        <h3 class="fw-bold mb-3 text-light">
                            <i class="bi bi-briefcase-fill me-2"></i>{{ job.title_en }}
                        </h3>
                        <p class="mb-2">{{ job.description_en|truncatewords:40|linebreaks }}</p>
                        {% if job.requirements_en %}
                            <h6 class="fw-semibold mt-3"><i class="bi bi-list-check me-2"></i>Requirements:</h6>
                            <p class="mb-2">{{ job.requirements_en|truncatewords:30|linebreaks }}</p>
                        {% endif %}
                    {% elif LANGUAGE_CODE == 'ru' %}
                        <h3 class="fw-bold mb-3 text-light">
                            <i class="bi bi-briefcase-fill me-2"></i>{{ job.title_ru }}
                        </h3>
                        <p class="mb-2">{{ job.description_ru|truncatewords:40|linebreaks }}</p>
                        {% if job.requirements_ru %}
                            <h6 class="fw-semibold mt-3"><i class="bi bi-list-check me-2"></i>Требования:</h6>
                            <p class="mb-2">{{ job.requirements_ru|truncatewords:30|linebreaks }}</p>
                        {% endif %}
                    {% elif LANGUAGE_CODE == 'uk' %}
                        <h3 class="fw-bold mb-3 text-light">
                            <i class="bi bi-briefcase-fill me-2"></i>{{ job.title_ua }}
                        </h3>
                        <p class="mb-2">{{ job.description_ua|truncatewords:40|linebreaks }}</p>
                        {% if job.requirements_ua %}
                            <h6 class="fw-semibold mt-3"><i class="bi bi-list-check me-2"></i>Вимоги:</h6>
                            <p class="mb-2">{{ job.requirements_ua|truncatewords:30|linebreaks }}</p>
                        {% endif %}
                    {% else %}
                        <h3 class="fw-bold mb-3 text-light">
                            <i class="bi bi-briefcase-fill me-2"></i>{{ job.title_ru }}
                        </h3>
                        <p class="mb-2">{{ job.description_ru|truncatewords:40|linebreaks }}</p>
                        {% if job.requirements_ru %}
                            <h6 class="fw-semibold mt-3"><i class="bi bi-list-check me-2"></i>Требования:</h6>
                            <p class="mb-2">{{ job.requirements_ru|truncatewords:30|linebreaks }}</p>
                        {% endif %}
                    {% endif %}
                </div>
            </div>

            <!-- Права колонка — деталі -->
            <div class="col-lg-4">
                <div class="p-3 rounded shadow-sm bg-dark border">
                    <p class="mb-2"><i class="bi bi-building me-1 text-light"></i><strong>Firma:</strong> {{ job.company_name }}</p>
                    <p class="mb-2"><i class="bi bi-geo-alt-fill me-1 text-danger"></i><strong>Lokalizacja:</strong> {{ job.location }}</p>
                    {% if job.salary_from or job.salary_to %}
                        <p class="mb-2"><i class="bi bi-cash-stack me-1 text-success"></i><strong>Pensja:</strong>
                           {{ job.salary_from|default:"?" }} - {{ job.salary_to|default:"?" }}
                        </p>
                    {% endif %}
                    <p class="mb-3"><i class="bi bi-calendar-event me-1 text-secondary"></i><em>Dodano: {{ job.published_at|date:"Y-m-d" }}</em></p>

                    <a href="#contactModal" data-bs-toggle="modal" class="btn btn-primary w-100">
                        <i class="bi bi-envelope-fill me-1"></i>
                        {% if LANGUAGE_CODE == 'pl' %} Skontaktuj się {% elif LANGUAGE_CODE == 'en' %} Contact us
                        {% elif LANGUAGE_CODE == 'ru' %} Связаться {% elif LANGUAGE_CODE == 'uk' %} Зв’язатися
                        {% else %} Связаться {% endif %}
                    </a>
                </div>
            </div>
        </div>
        </div>
    </div>
</section>



{% empty %}
    <p>Brak ofert.</p>
{% endfor %}

{% endblock %}
